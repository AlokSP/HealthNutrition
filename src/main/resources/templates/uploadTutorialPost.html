<!DOCTYPE html>
<html xmlns:th="https://thymeleaf.org">
<head th:replace="common/trail :: common-trail"></head>
<style>
.fa-user-circle,.fa-clock,.fa-comment-alt{
color : #014F7A;}
#sm_url:hover,#sliedPdf:hover{
background: none!important;}
.modal-title{
font-weight : bold!important;
color: #014F7A;
font-size: 1rem;
}
.modal-header{
border-bottom: 2px solid #014F7A!important;}
</style>

<body>
	<div th:replace="common/sidebar :: top_header"></div>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-3 col-lg-2 pr-0">
				<div th:replace="common/sidebar :: contributor_sidebar"></div>
			</div>
			<div class="col-md-9 col-lg-10 p-md-5">
				<div>
					<div class="alert alert-success" role="alert"
						th:if="${success_msg}">
						<div id="#test" class="">
							<div>
								<span th:text="${success_msg}"></span>
							</div>
						</div>
					</div>
					<div class="alert alert-danger" role="alert" th:if="${error_msg}">
						<div id="#test" class="">
							<div>
								<span th:text="${error_msg}"></span>
							</div>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-header">
						<h4>Upload Tutorial</h4>
					</div>
					<div class="card-body">
						<div class="row" th:if="${category}">
							<div class="col">
								<form th:action="@{/submitTutorial}" method="post">

									<table class="table table-bordered">
										<thead>
											<tr>
												<th>Category</th>
												<td><input class="form-control" id="categoryId"
													name="categoryName" th:value="${category.getCatName()}"
													readonly="readonly"></input></td>
											</tr>
										</thead>

										<thead>
											<tr>
												<div th:if="${tutorial}">
													<input type="hidden" id="tutorialId"
														th:value="${tutorial.getTutorialId()}" />
												</div>

												<div th:unless="${tutorial}">
													<input type="hidden" id="tutorialId" value="0" />
												</div>

												<th>Topic Name</th>
												<td><input class="form-control" id="topicId"
													name="categoryName" th:value="${topic.getTopicName()}"
													readonly="readonly"></input> <input type="hidden"
													id="topicID" th:value="${topic.getTopicId()}" /></td>
											</tr>

										</thead>

										<thead>
											<tr>
												<th>Language Name</th>
												<td><input class="form-control" id="lanId"
													name="languageName" th:value="${language.getLangName()}"
													readonly="readonly"></input></td>
											</tr>
										</thead>
									</table>

									<table class="table table-bordered"
										style="background: lightblue">
										<thead>
											<tr>

												<th>Sr.No</th>
												<th>Component</th>
												<th>Status</th>
												<th>User</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td>1</td>
												<td>Outline</td>
												<td><span class="status-contri"
													th:text="${statusOutline}"></span></td>
												<td>
												<div th:if="${tutorial}">
												<span style="color: green;" th:if="${tutorial.getOutlineUser()}" th:text="${#strings.capitalizeWords(tutorial.getOutlineUser().getFullName())}"></span>
												</span></div></td>
												
												<th><span>
														<button type="button" class="btn btn-info"
															data-toggle="modal" data-target="#outlineModalContri"
															data-whatever="@mdo">
															<i style="color: blue;" class="fas fa-upload"></i>

														</button>
												</span></th>
											</tr>
											<tr>
												<td>2</td>
												<td>Script</td>
												<td><span class="status-contri"
													th:text="${statusScript}">Pending</span></td>
												<td>
												<div th:if="${tutorial}">
												<span style="color: green;" th:if="${tutorial.getScriptUser()}" th:text="${#strings.capitalizeWords(tutorial.getScriptUser().getFullName())}"></span>
												</span></div></td>
												
												<th><span>
														<button type="button" class="btn btn-info"
															data-toggle="modal" data-target="#scriptModale"
															data-whatever="@mdo">
															<i style="color: blue;" class="fas fa-upload"></i>
														</button>
												</span></th>

											</tr>


											<tr th:if = "${otherLan}">

												<td>3</td>
												<td>Slide</td>
												<td><span class="status-contri"
													th:text="${statusSlide}">Pending</span></td>
												<td>
												<div th:if="${tutorial}">
												<span style="color: green;" th:if="${tutorial.getSlideUser()}" th:text="${#strings.capitalizeWords(tutorial.getSlideUser().getFullName())}"></span>
												</span></div></td>
												
												<th><span>
														<button type="button" class="btn btn-info"
															data-toggle="modal" data-target="#slideModale"
															data-whatever="@mdo">
															<i style="color: blue;" class="fas fa-upload"></i>
														</button>
												</span></th>

											</tr>

											<tr>

												<td>4</td>
												<td>Video</td>
												<td><span class="status-contri"
													th:text="${statusVideo}">Pending</span></td>
												<td>
												<div th:if="${tutorial}">
												<span style="color: green;" th:if="${tutorial.getVideoUser()}" th:text="${#strings.capitalizeWords(tutorial.getVideoUser().getFullName())}"></span>
												</span></div></td>
												
												<th><span>
														<button type="button" class="btn btn-info"
															data-toggle="modal" data-target="#videoModel"
															data-whatever="@mdo">
															<i style="color: blue;" class="fas fa-upload"></i>
														</button>
												</span></th>

											</tr>
											<tr th:if = "${otherLan}">
												<td>5</td>
												<td>Keywords</td>
												<td><span class="status-contri"
													th:text="${statusKeyword}">Pending</span></td>
												<td>
												<div th:if="${tutorial}">
												<span style="color: green;" th:if="${tutorial.getKeywordUser()}" th:text="${#strings.capitalizeWords(tutorial.getKeywordUser().getFullName())}"></span>
												</span></div></td>
												
												<th><span>
														<button type="button" class="btn btn-info"
															data-toggle="modal" data-target="#keywordModale"
															data-whatever="@mdo">
															<i style="color: blue;" class="fas fa-upload"></i>
														</button>
												</span></th>

											</tr>
											<tr th:if = "${otherLan}">
												<td>6</td>
												<td>Prerequisite</td>
												<td><span class="status-contri"
													th:text="${statusPreReq}"></span></td>
												<td><div th:if="${tutorial}">
												<span style="color: green;" th:if="${tutorial.getPreRequiticUser()}" th:text="${#strings.capitalizeWords(tutorial.getPreRequiticUser().getFullName())}"></span>
												</span></div></td>
												<th>
													<button type="button" class="btn btn-info"
														data-toggle="modal" data-target="#prerequisiteModale"
														data-whatever="@mdo">
														<i style="color: blue;" class="fas fa-upload"></i>
													</button>
												</th>

											</tr>

								

										</tbody>
									</table>

								</form>

							</div>
						</div>
					</div>
				</div>
			</div>

		</div>

	</div>
	<!-- outline modal starts -->
	<!-- Button trigger modal -->

	<div style="display: flex;">
		<script th:src="@{js/jquery-3.3.1.js}"></script>
		<div class="row" style='width: 100%;'>
			<div class="col-md-12 mx-auto">
				<div class="card card-signin flex-row a-card">

					<div class="card-body">
						<!--  Outline   Start-->
						<div class="modal fade" id="outlineModalContri"
							data-backdrop="static" data-keyboard="false" tabindex="-1"
							role="dialog" aria-labelledby="exampleModalLabel"
							aria-hidden="true">
							<div
								class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"
								role="document">
								<div class="modal-content">
									<div class="modal-header">

										<span class="modal-title" id="exampleModalLabel">Add
											Outline</span>

										<button type="button" class="close" data-dismiss="modal"
											aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>

									<div class="modal-body">
										<div class="alert alert-success d-none w-100" role="alert"
											id="statusOutlineC"></div>
											<!-- <div class="alert alert-success d-none w-100 commentS" role="alert"></div> -->
										<!-- <div class="container"> -->
											<div class="row">
												<div class="col-12" style="display: flex; flex-wrap: wrap;">
												<div class="card mb-2">
  <div class="card-header">
    <span class="font-weight-bold"><span th:text="${category.getCatName()}"></span> | <span th:text="${topic.getTopicName()}"></span></span>
  </div>
  <div class="card-body">
    <form th:action="@{/addOutline}" method="post"
														style="width: 100%;">
														<div class="form-group">
															<!-- <label for="message-text" class="col-form-label"><span class="font-weight-bold">Add outline : <span th:text="${category.getCatName()}"></span> | <span th:text="${topic.getTopicName()}"></span></span></label> -->
															<textarea class="form-control editor" name="editor"
																id="editor" rows="10">
										        		  
																	<span th:if="${tutorial}"
																		th:text="${tutorial.getOutline()}"></span>
																 
										          			 </textarea>
														</div>
													</form>
  </div>
</div>
													
												</div>
												<div class="col-12">
												<div class="card">
  <div class="card-header">
    <span class="font-weight-bold">Comments</span>
  </div>
  <div class="card-body">
    <div th:if="${not #lists.isEmpty(comOutline)}">
														<div th:each="outlineComment : ${comOutline}"
															th:if="${not #lists.isEmpty(comOutline)}"
															class="border-bottom py-2">
															<span class="my-0">
															<i class="far fa-user-circle"></i> <span th:text="${#strings.capitalizeWords(outlineComment.getUser().getFullName())}"></span> <span class="mx-3"></span><i class="far fa-clock"></i> <small>
																<span th:text="${#dates.day(outlineComment.getDateAdded())}"></span> <span th:text="${#dates.monthNameShort(outlineComment.getDateAdded())}"></span>, <span th:text="${#dates.year(outlineComment.getDateAdded())}"></span> , <span th:text="${#dates.format(outlineComment.getDateAdded(),'HH:mm a')}"></span></small>
																
															</span><br>
															
															<span class="my-0 text-muted">
																<i class="far fa-comment-alt"></i> <span th:text="${outlineComment.getComment()}"></span>
															</span>

														</div>
													</div>
													<div th:if="${#lists.isEmpty(comOutline)}">
													<span>No comments available.</span>
													</div>
  </div>
</div>
<div class="alert alert-success d-none w-100 commentS mt-2" role="alert"></div>
<div class="card mt-2">
  <div class="card-header">
    <span class="font-weight-bold">Add your comment below : </span>
  </div>
  <div class="card-body">
    <div class="textarea-comment">
														<textarea class="form-control msgComment"
															name="msgCommentOutline" rows="3" required="required"
															id="Outline_comment"
															placeholder="Please enter your suggestions.">	</textarea>

													</div>
													<button id="Outline" type="button"
														class="btn comment-contri">comment</button>
  </div>
</div>
													
													
													


												</div>

											</div>
										<!-- </div> -->
									</div>
									<div class="modal-footer">
										<div th:if="${tutorial}">
											<div
												th:if="${tutorial.getOutlineStatus() == 0 or tutorial.getOutlineStatus() == 4}">
												<button id="outlineId" type="button" class="btn btn-success">Upload
													Outline</button>
											</div>
											<div
												th:unless="${tutorial.getOutlineStatus() == 0 or tutorial.getOutlineStatus() == 4}">
												<button id="outlineId" type="button" class="btn btn-success"
													disabled="disabled">Upload Outline</button>
											</div>
										</div>
										<div th:unless="${tutorial}">
											<button id="outlineId" type="button" class="btn btn-success">Upload
												Outline</button>

										</div>
										<button type="button" class="btn btn-secondary"
											data-dismiss="modal">Close</button>



									</div>
								</div>
							</div>
						</div>
						<!--  Outline   End-->



						<!-- Video Div	 -->
						<div class="modal fade" id="videoModel" tabindex="-1"
							role="dialog" aria-labelledby="exampleVideoModalLabel"
							aria-hidden="true" data-backdrop="static" data-keyboard="false">

							<div
								class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"
								role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleVideoModalLabel">Upload
											Video</h5>
										<span style="color: green; padding-left: 50px"
											id="statusofVideo"> </span>
										<button type="button" class="close" data-dismiss="modal"
											aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">
										<div class="row">
											<div class="col-12">
												<div class="alert alert-success d-none w-100" role="alert" id="status_video"></div>
												<!-- <div class="alert alert-success d-none w-100 commentS" role="alert"></div> -->
												<div class="card mb-2">
  <div class="card-header">
    <span class="font-weight-bold"><span th:text="${category.getCatName()}"></span> | <span th:text="${topic.getTopicName()}"></span></span>
  </div>
  <div class="card-body">
    <form class="form-horizontal" th:action="@{/addkeyword}" method="post">
													<div class="form-group">
														<div id="VideoView"></div>
														<span id="VideoView1"> </span>
														<div th:if="${tutorial}">
														
														<!-- <div>
														<div> Video Duration : <span th:text="${FileDurationInSecond}"/> Seconds </div> 
														<div> Video File Size : <span th:text="${fileSizeInMB}"/> MB </div> 
														<div> Video Width : <span th:text="${FileWidth}"/> </div> 
														<div> Video Height : <span th:text="${FileHeight}"/>  </div> 
														</div> -->
															<div th:if="${tutorial.getVideo()}" id="videoDiv"
																class="container" height="240" width="320"
																scrolling="auto" autoplay="autoplay">

																<video id='storedVideoId' height="240" width="320"
																	controls="controls">
																	<!-- <source src="movie.mp4" type="video/mp4"> -->
																	<!-- <source th:src="${tutorial.getVideo()}"
																		type="video/mp4"></source> -->
																	<source th:if="${tutorial.getVideoStatus() != 0}"
																		th:src="@{/files/}+@{${tutorial.getVideo()}}"
																		type="video/mp4"></source>
																</video>
																
															</div>
															

														</div>
														
													</div>
												</form>
												<form id="upload-file-form-video">
													<div class="custom-file mb-3">
														
															<div>
																<input type="file" class="custom-file-input"
																	id="videoFileIdA" name="videoFileName"
																	placeholder="uploadVideo" accept=".mp4"
																	required="required"></input>
															</div>
															


														<label class="custom-file-label" for="videoFileIdA">Choose
															File</label>
														<div class="invalid-feedback">Example invalid custom
															file feedback</div>
													</div>

												</form>
												<table class="table table-bordered">
														<!-- <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">First</th>
    </tr>
  </thead> -->
  <tbody>
  <tr>
      <th scope="row">Video Duration</th>
      <td><span th:text="${FileDurationInSecond}"></span> Seconds</td>
    </tr>
    <tr>
      <th scope="row">Video File Size</th>
      <td><span th:text="${fileSizeInMB}"></span> MB</td>
    </tr>
    <tr>
      <th scope="row">Video Width</th>
      <td><span th:text="${FileWidth}"></span></td>
    </tr>
    <tr>
      <th scope="row">Video Height</th>
      <td><span th:text="${FileHeight}"></span></td>
    </tr>
  </tbody>
														</table>
												
												
  </div>
</div>
												
												
											</div>
											<div class="col-12">
											<div class="card mb-2">
  <div class="card-header">
    <span class="font-weight-bold">Comments</span>
  </div>
  <div class="card-body">
    <div th:if="${not #lists.isEmpty(comVideo)}">
													
													<div th:each="comment : ${comVideo}"
														class="border-bottom py-2">
														<span class="my-0">
															<i class="far fa-user-circle"></i> <span th:text="${#strings.capitalizeWords(comment.getUser().getFullName())}"></span> <span class="mx-3"></span><i class="far fa-clock"></i> <small>
																<span th:text="${#dates.day(comment.getDateAdded())}"></span> <span th:text="${#dates.monthNameShort(comment.getDateAdded())}"></span>, <span th:text="${#dates.year(comment.getDateAdded())}"></span> , <span th:text="${#dates.format(comment.getDateAdded(),'HH:mm a')}"></span></small>
														</span><br>
														
														<span class="my-0 text-muted">
															<i class="far fa-comment-alt"></i> <span th:text="${comment.getComment()}"></span>
														</span>

													</div>

												</div>
												<div th:if="${ #lists.isEmpty(comVideo)}"><span>No comments available.</span></div>
  </div>
</div>
												
												<div class="alert alert-success d-none w-100 commentS" role="alert"></div>
												<div class="card">
  <div class="card-header">
    <span class="font-weight-bold">Add your comment below : </span>
  </div>
  <div class="card-body">
    <div class="textarea-comment">
													<textarea class="form-control msgComment"
														name="msgCommentOutline" rows="3" required="required"
														id="Video_comment"
														placeholder="Please enter your suggestions.">	</textarea>
<button id="Video" type="button" class="btn comment-contri">comment</button>
												</div>
  </div>
</div>
												
												
											</div>
										</div>

									</div>

									<div class="modal-footer">
										<div th:if="${tutorial}">
											<div
												th:if="${tutorial.getVideoStatus() == 0 or tutorial.getVideoStatus() == 4}">
												<button id="videoId" type="button" class="btn btn-success">Upload</button>
											</div>
											<div
												th:unless="${tutorial.getVideoStatus() == 0 or tutorial.getVideoStatus() == 4}">
												<button id="videoId" type="button" class="btn btn-success"
													disabled="disabled">Upload</button>
											</div>
										</div>
										<div th:unless="${tutorial}">
											<button id="videoId" type="button" class="btn btn-success">Upload</button>
										</div>
										<button type="button" class="btn btn-secondary"
											data-dismiss="modal">Close</button>

									</div>
								</div>
							</div>

						</div>
						<!-- 	End	Video Div	 -->

						<!-- star KeyWord-->



						<div class="modal fade modal-status" id="keywordModale"
							tabindex="-1" role="dialog"
							aria-labelledby="exampleModalLabelKeyWord" aria-hidden="true"
							data-backdrop="static" data-keyboard="false">

							<div
								class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"
								role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLabelKeyWord">Add
											Keyword</h5>
										<div class="modal-title"></div>
										<span style="color: green; padding-left: 50px"
											id="statuskeyword"> </span>
										<button type="button" class="close" data-dismiss="modal"
											aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">

										<div class="row">
											<div class="col-12">
												<div class="alert d-none w-100" role="alert" id="status_kw"></div>
												<div class="alert alert-success d-none w-100 commentS" role="alert"></div>
												<div class="card mb-2">
  <div class="card-header">
    <span class="font-weight-bold"><span th:text="${category.getCatName()}"></span> | <span th:text="${topic.getTopicName()}"></span></span>
  </div>
  <div class="card-body">
    <form class="form-horizontal" th:action="@{/addkeyword}" method="post">
													<div class="form-group">
															<div th:if="${tutorial}">
															<textarea class="form-control" name="keywordArea"
															id="keywordArea" rows="3" required="required" th:if="${tutorial.getKeyword()}" th:text="${tutorial.getKeyword()}"></textarea>
															</div>
															<div th:unless="${tutorial}">
															<textarea class="form-control" name="keywordArea"
															id="keywordArea" rows="3" required="required" >
							            				</textarea>
															</div>
														
															
													</div>
												</form>
  </div>
</div>
												
											</div>

											<div class="col-12">
											<div class="card">
  <div class="card-header">
    <span class="font-weight-bold">Comments</span>
  </div>
  <div class="card-body">
    <div th:if="${not #lists.isEmpty(comKeyword)}">
													<div th:each="comment : ${comKeyword}"
														class="border-bottom py-2">
														<span class="my-0">
															<i class="far fa-user-circle"></i> <span th:text="${#strings.capitalizeWords(comment.getUser().getFullName())}"></span> <span class="mx-3"></span><i class="far fa-clock"></i> <small>
																<span th:text="${#dates.day(comment.getDateAdded())}"></span> <span th:text="${#dates.monthNameShort(comment.getDateAdded())}"></span>, <span th:text="${#dates.year(comment.getDateAdded())}"></span> , <span th:text="${#dates.format(comment.getDateAdded(),'HH:mm a')}"></span></small>
														</span><br>
														<span class="my-0 text-muted">
															<i class="far fa-comment-alt"></i> <span th:text="${comment.getComment()}"></span>
														</span>

													</div>
												</div>
												<div th:if="${ #lists.isEmpty(comKeyword)}"><span>No comments available.</span>
												</div>
  </div>
</div>
<div class="card mt-2">
  <div class="card-header">
    <span class="font-weight-bold">Add your comment below : </span>
  </div>
  <div class="card-body">
    <div class="textarea-comment">
													<textarea class="form-control msgComment"
														name="msgCommentOutline" rows="3" required="required"
														id="Keyword_comment"
														placeholder="Please enter your suggestions.">	</textarea>

												</div>
												<button id="Keyword" type="button"
													class="btn comment-contri">comment</button>
  </div>
</div>

											</div>

										</div>
									</div>
									<div class="modal-footer">
										<div th:if="${tutorial}">
											<div
												th:if="${tutorial.getKeywordStatus() == 0 or tutorial.getKeywordStatus() == 4}">
												<button id="keywordId" type="button" class="btn btn-success">Submit</button>
											</div>
											<div
												th:unless="${tutorial.getKeywordStatus() == 0 or tutorial.getKeywordStatus() == 4}">
												<button id="keywordId" type="button" class="btn btn-success"
													disabled="disabled">Submit</button>
											</div>
										</div>
										<div th:unless="${tutorial}">
											<button id="keywordId" type="button" class="btn btn-success">Submit</button>
										</div>

										<!-- <button type="button" class="btn btn-outline-warning"
											id="editKeyword">
											<span style="color: green;"> <i class="fas fa-edit"></i>
												Edit
											</span>
										</button> -->

										<!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
										<button type="button" class="btn btn-secondary"
											data-dismiss="modal">Close</button>
									</div>
								</div>
							</div>
						</div>
						<!-- view script -->

						<!-- View keyword into textbox -->


						<div class="modal fade" id="keywordModaleView" tabindex="-1"
							role="dialog" aria-labelledby="exampleModalLabelKeyWordView"
							aria-hidden="true">

							<div class="modal-dialog" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLabelKeyWordView">View
											Keyword</h5>
										<div class="modal-title"></div>

										<button type="button" class="close" data-dismiss="modal"
											aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">

										<form class="form-horizontal" th:action="@{/addkeyword}" method="post">

											<div class="form-group">

												<label for="message-text" class="col-form-label">View
													Keyword</label>
												<textarea class="form-control" name="keywordArea"
													id="keywordView" rows="10" required="required"
													readonly="readonly">
							       
							        </textarea>
											</div>
										</form>

										<div class="modal-footer"></div>

									</div>

								</div>
							</div>
						</div>

						<!-- Video View  -->

						<!-- Start  prerequistic -->
						<!-- Start  prerequistic -->


						<div class="modal fade" id="prerequisiteModale" tabindex="-1"
							role="dialog" aria-labelledby="exampleModalLabelKeyword"
							aria-hidden="true">

							<div
								class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"
								role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLabelKeyword">Add
											Prerequisite</h5>
										<button type="button" class="close" data-dismiss="modal"
											aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">
									<div class="alert w-100" role="alert" id="status_pr" style="display:none;"></div>
										<!-- <div class="alert alert-success d-none w-100" role="alert"
											id="statusPreReq"></div> -->
										<div class="row">
											<div class="col-12" th:unless="${tutorial}">
												Please Add Some Component First
											</div>
											
											<div class="col-12" th:if="${tutorial}">
											<div class="card">
  <div class="card-header">
    <span class="font-weight-bold"><span th:text="${category.getCatName()}"></span> | <span th:text="${topic.getTopicName()}"></span></span>
  </div>
  <div class="card-body">
    <form method="post">

													<div class="form-group">
														<label for="inputUserame">
														<span class="font-weight-bold">Select Prerequisite</span></label> <select
															id="preRequsiteId" class="form-control"
															name="preRequsite" required="required">
															<option selected="selected">Select Category</option>
															<span id="categorySelect"
															th:each="category : ${categories}">

																<option class="form-control" id="categoryId"
																	name="categoryName" th:text="${category.getCatName()}"
																	readonly="readonly"></option>
														</span>
														</select>
													</div>
													<div class="form-group ">
														<label for="inputTopic"><span class="font-weight-bold">Topic Name</span></label> <select
															id="inputLanguageAll" class="form-control"
															name="inputLanguageAll" required="required">
														</select>
													</div>
													
													
													<div th:if="${tutorial}">
														<div
															th:if="${tutorial.getPreRequisticStatus() == 0 or tutorial.getPreRequisticStatus() == 4}">
															<div class="form-group ">
													<div class="form-check">
														<input type="checkbox" class="form-check-input"
															id="prRequired"> <label
															class="form-check-label" for="prRequired">No Prerequisite</label>
													</div>
														
													</div>
															<button id="uploadpreRequsiteId"
																name="uploadpreRequsiteId" type="button"
																class="btn btn-success">Upload</button>
														</div>
														<div
															th:unless="${tutorial.getPreRequisticStatus() == 0 or tutorial.getPreRequisticStatus() == 4}">
															<button id="uploadpreRequsiteId"
																name="uploadpreRequsiteId" type="button"
																class="btn btn-success" disabled="disabled">Upload</button>
														</div>

													</div>
													<button type="button" class="btn btn-success" id="addNullPrerequisite" style="display:none;">Submit</button>
												</form>

  </div>
  
</div>
																							</div>
											<div class="col-12">
											<div class="card my-2">
  <div class="card-header">
    <span class="font-weight-bold">Comments</span>
  </div>
  <div class="card-body">
    <div th:if="${not #lists.isEmpty(comPreReq)}">
											    <div th:each="comment : ${comPreReq}" class="border-bottom py-2"> 
											    <span class="my-0">
											    <i class="far fa-user-circle"></i> <span th:text="${#strings.capitalizeWords(comment.getUser().getFullName())}"></span> <span class="mx-3"></span><i class="far fa-clock"></i> <small>
																<span th:text="${#dates.day(comment.getDateAdded())}"></span> <span th:text="${#dates.monthNameShort(comment.getDateAdded())}"></span>, <span th:text="${#dates.year(comment.getDateAdded())}"></span> , <span th:text="${#dates.format(comment.getDateAdded(),'HH:mm a')}"></span></small>
											    </span><br>
											    <span class="my-0 text-muted" ><i class="far fa-comment-alt"></i> <span th:text="${comment.getComment()}"></span></span>
											    </div>
									
									</div>
									<div th:if="${ #lists.isEmpty(comPreReq)}"><span>No comments available.</span></div>
  </div>
</div>
											</div>
										</div>



									</div>
									<div class="modal-footer">
										

										<button type="button" class="btn btn-secondary"
											data-dismiss="modal">Close</button>

									</div>

								</div>
							</div>

						</div>


						<div class="modal fade" id="keywordModale" tabindex="-1"
							role="dialog" aria-labelledby="exampleModalLabelprerequisite"
							aria-hidden="true">

							<div
								class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"
								role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLabelprerequisite">Upload
											Prerequisite</h5>
										<div class="modal-title"></div>
										<span style="color: green; padding-left: 50px"
											id="statusofprerequisite"> </span>
										<button type="button" class="close" data-dismiss="modal"
											aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>

									</div>
									<div class="modal-body">
										<div class="row">
											<div class="col-md-6">
												<form th:action="@{/}" method="post">

													<div class="form-group">
														<label for="inputUserame">Add Prerequisite</label> <select
															id="preRequsite" class="form-control" name="preRequsite"
															required="required">

															<option selected="selected">Select Category</option>
															<!-- <span th:each="category: ${categorys}">
								  								<option th:value="${category.getId()}"><span th:text="${category.categoryname}"></span></option>		
								  						</span> -->

															<span id="catId" th:each="catgoryName : ${categoryName}">

																<option class="form-control" id="categoryId"
																	name="categoryName"
																	th:text="${catgoryName.getCategoryname()}"
																	readonly="readonly"></option>
														</span>

														</select>
													</div>

													<div class="form-group ">

														<label for="inputTopic">Topic Name</label> <select
															id="inputTopic" class="form-control" name="inputTopic"
															required="required">

														</select>

													</div>

													<button id="preRequisite" type="button"
														class="btn btn-success">Upload</button>

												</form>
											</div>
											<div class="col-md-6">
												<div th:if="${not #lists.isEmpty(comPreReq)}">
													<h6 class="border-bottom">Comments:</h6>
													<div th:each="comment : ${comPreReq}"
														class="border-bottom">
														<p class="my-0">
															<i class="far fa-user"></i> <strong><span
																th:text="${comment.getUser().getFullName()}"></span></strong>
														</p>
														<p class="my-0">
															<i class="far fa-clock"></i> <small><span
																th:text="${comment.getDateAdded()}"></span></small>
														</p>
														<p class="my-0 text-muted">
															<span th:text="${comment.getComment()}"></span>
														</p>

													</div>

												</div>
												<div class="textarea-comment">
													<textarea class="form-control msgComment"
														name="msgCommentOutline" rows="3" required="required"
														id="Prerequisite_comment"
														placeholder="Please enter your suggestions.">	</textarea>

												</div>
												<button id="Prerequisite" type="button"
													class="btn comment-contri">comment</button>
											</div>
										</div>


									</div>
									

								</div>
							</div>

						</div>

						<!-- End prerequisiteModale-->

						<!-- star script  needed by om prakash-->

						<div class="modal fade" id="scriptModale" data-backdrop="static"
							data-keyboard="false" tabindex="-1" role="dialog"
							aria-labelledby="exampleModalLabelScript" aria-hidden="true">
							<div
								class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"
								role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLabelScript">Upload
											Script</h5>
										<button type="button" class="close" data-dismiss="modal"
											aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">
										<div class="row">
											<div class="col-12">
											<div class="alert alert-success d-none w-100" role="alert" id="status_script"></div>
											
											<div class="alert alert-info" role="alert">
  												<i class="fas fa-external-link-alt"></i> <a th:href="${sm_url}" class="alert-link" style="text-decoration: underline;" target="_blank" id="sm_url">Click here to proceed to Script Manager</a>
											</div>
											</div>
											<div class="col-12">
												<!-- <div th:if="${not #lists.isEmpty(comScript)}"> -->
												
													<div class="card mb-2">
  <div class="card-header bg-light">
    <span class="font-weight-bold">Comments</span>
  </div>
  <div class="card-body">
    <div th:if="${not #lists.isEmpty(comScript)}">
    	<div th:each="comment : ${comScript}"
														class="border-bottom py-2">
														<span class="my-0">
															<i class="far fa-user-circle"></i> <span th:text="${#strings.capitalizeWords(comment.getUser().getFullName())}"></span> <span class="mx-3"></span><i class="far fa-clock"></i> <small>
																<span th:text="${#dates.day(comment.getDateAdded())}"></span> <span th:text="${#dates.monthNameShort(comment.getDateAdded())}"></span>, <span th:text="${#dates.year(comment.getDateAdded())}"></span> , <span th:text="${#dates.format(comment.getDateAdded(),'HH:mm a')}"></span></small>
														</span><br>
														<!-- <p class="my-0">
															
														</p> -->
														<span class="my-0 text-muted ">
															<i class="far fa-comment-alt"></i> <span th:text="${comment.getComment()}"></span>
														</span>

													</div>
    </div>
    <div th:if="${#lists.isEmpty(comScript)}">
    <span>No comments available.</span>
    </div>
  </div>
</div>
													
													

												<!-- </div> -->
												<div class="alert alert-success d-none w-100 commentS" role="alert"></div>
												<div class="card">
  <div class="card-header">
    <!-- <label for="Script_comment" class="comments"> --><span class="font-weight-bold">Add your comment below : </span><!-- </label> -->
  </div>
  <div class="card-body">
    <div class="textarea-comment">
													
													<textarea class="form-control msgComment"
														name="msgCommentOutline" rows="3" required="required"
														id="Script_comment"
														>	</textarea>

												</div>
												<button id="Script" type="button" class="btn comment-contri">comment</button>
  </div>
</div>
												
												

											</div>
										</div>


									</div>

									<div class="modal-footer">
										<div th:if="${tutorial}">
											<div
												th:if="${tutorial.getScriptStatus() == 0 or tutorial.getScriptStatus() == 4}">
												<button id="scriptId" type="button" class="btn btn-success">Submit For Domain Review</button>
											</div>
											<div
												th:unless="${tutorial.getScriptStatus() == 0 or tutorial.getScriptStatus() == 4}">
												<button id="scriptId" type="button" class="btn btn-success"
													disabled="disabled">Under Review Process</button>
											</div>
										</div>
										<div th:unless="${tutorial}">
											<button id="scriptId" type="button" class="btn btn-success">Submit For Domain Review</button>
										</div>

										<button type="button" class="btn btn-secondary"
											data-dismiss="modal">Close</button>

									</div>

								</div>
							</div>

						</div>


						<!-- end script -->

						<!-- 	star Slide -->

						<div class="modal fade" id="slideModale" tabindex="-1"
							role="dialog" aria-labelledby="exampleModalLabelSlide"
							aria-hidden="true" data-backdrop="static" data-keyboard="false">


							<div
								class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"
								role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLabelSlide">Upload
											Slide</h5>
										<span style="color: green; padding-left: 50px"
											id="statusofSlide"> </span>


										<button type="button" class="close" data-dismiss="modal"
											aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">
										<div class="row">
											<div class="col-12">
												<div class="alert d-none w-100" role="alert" id="status_slide"></div>
												<div class="alert alert-success d-none w-100 commentS" role="alert"></div>
												<div class="card mb-2">
  <div class="card-header">
    <span class="font-weight-bold"><span th:text="${category.getCatName()}"></span> | <span th:text="${topic.getTopicName()}"></span></span>
  </div>
  <div class="card-body">
    <form class="form-horizontal mb-3"
													th:action="@{/addkeyword}" method="post">
													<div th:if="${tutorial}" >
													<div  th:if="${tutorial.getSlideStatus() != 0}">
													<div >
															<div class="alert alert-info" role="alert">

																<!-- <a name="sliedPdf"
																	
																	target="_blank"
																	th:href="@{/files/}+@{${tutorial.getSlide()}}"
																	id="sliedPdf"><i class="far fa-file-alt"></i> View
																	Slide</a> -->
																<a class="alert-link sm_url"
												 target="_blank" id="sliedPdf"
												name="categoryName" th:href="@{/files/}+@{${tutorial.getSlide()}}" style="text-decoration: underline;color: #014F7A;">
												<!-- <span th:text="${scriptpath.getTopic().getTopicname()}"></span> -->
												<i class="fas fa-external-link-alt"></i> Click to download slides for <span class="font-weight-bold"><span th:text="${category.getCatName()}"></span> | <span th:text="${topic.getTopicName()}"></span></span></a>
															</div>
															
														</div>
													</div>
														
													</div>
												</form>
												<form id="upload-file-form">
													<div class="form-group">
														<div class="custom-file">
															
																<div>
																	<input type="file" class="custom-file-input"
																		id="uploadsSlideFileId" name="uploadsSlideFile"
																		placeholder="uploadFile" accept=".zip"
																		required="required"></input>
																</div>
																
															

															<label class="custom-file-label" for="uploadsSlideFileId">Choose
																file...</label>
															<div class="invalid-feedback">Example invalid
																custom file feedback</div>
														</div>
														<!-- here -->

													</div>
												</form>

												

  </div>
</div>
																							</div>
											<div class="col-12">
											<div class="card">
  <div class="card-header">
    <span class="font-weight-bold">Comments</span>
  </div>
  <div class="card-body">
    <div th:if="${not #lists.isEmpty(comSlide)}">
													
													<div th:each="comment : ${comSlide}"
														th:if="${not #lists.isEmpty(comSlide)}"
														class="border-bottom py-2">
														<span class="my-0 text-muted">
															<i class="far fa-user-circle"></i> <span th:text="${#strings.capitalizeWords(comment.getUser().getFullName())}"></span> <span class="mx-3"></span><i class="far fa-clock"></i> <small>
																<span th:text="${#dates.day(comment.getDateAdded())}"></span> <span th:text="${#dates.monthNameShort(comment.getDateAdded())}"></span>, <span th:text="${#dates.year(comment.getDateAdded())}"></span> , <span th:text="${#dates.format(comment.getDateAdded(),'HH:mm a')}"></span></small>
														</span><br>
														<!-- <p class="my-0">
															
														</p> -->
														<span class="my-0 text-muted">
															<i class="far fa-comment-alt"></i> <span th:text="${comment.getComment()}"></span>
														</span>

													</div>

												</div>
												<div th:if="${#lists.isEmpty(comSlide)}"><span>No comments available.</span></div>
  </div>
</div>
<div class="card mt-2">
  <div class="card-header">
    <span class="font-weight-bold">Add your comment below : </span>
  </div>
  <div class="card-body">
   <div class="textarea-comment">
													<textarea class="form-control msgComment"
														name="msgCommentOutline" rows="3" required="required"
														id="Slide_comment"
														placeholder="Please enter your suggestions.">	</textarea>

												</div>
												<button id="Slide" type="button" class="btn comment-contri">comment</button>
  </div>
</div>
												
												
												
											</div>
										</div>

									</div>
									<div class="modal-footer">
										<div th:if="${tutorial}">
											<div
												th:if="${tutorial.getSlideStatus() == 0 or tutorial.getSlideStatus() == 4}">
												<button id="slideId" type="button" class="btn btn-success">Upload</button>
											</div>
											<div
												th:unless="${tutorial.getSlideStatus() == 0 or tutorial.getSlideStatus() == 4}">
												<button id="slideId" type="button" class="btn btn-success"
													disabled="disabled">Upload</button>
											</div>
										</div>
										<div th:unless="${tutorial}">
											<button id="slideId" type="button" class="btn btn-success">Upload</button>
										</div>

										<button type="button" class="btn btn-secondary"
											data-dismiss="modal">Close</button>
									</div>

								</div>
							</div>

						</div>
						<!-- 	End Slide -->



					</div>
				</div>
			</div>
		</div>
	</div>

	
	<script th:src="@{/js/ckeditor.js}"></script>

	<script>
	
	$( document ).ready(function() {
	console.log("uploadTut after");
		var msg = localStorage.getItem("upload_outline_msg");
		var content = '<div class="alert alert-info" role="alert">'+msg+'</div>';
	    if(msg!=""){
	    	/* alert('not null'); */
	    	$(".a-update-msg").html(content);
		    localStorage.setItem("upload_outline_msg", "");
	    	$('.a-card').css("margin-top", "20px"); 	
	    }
	    
	   /*  CKEDITOR.replace( 'editor' ); */
	    
	  /*   $( ".editor" ).load(function() {
	    	  alert('loaded');
	    	}); */
	    
	    
	    
	});
	
	var editor;
	console.log("CREATEING CLASSIC EDITOR");
	ClassicEditor
	    .create( document.querySelector( '#editor' ) )
	    .then( newEditor => {
	       editor = newEditor;
	       console.log("editor value **** " + editor);
	       console.log(editor);
	       /* editor.setReadOnly(true); */
	    } )
	    .catch( error => {
	        console.error( error );
	        console.log("ERROR IN CREATEING CLASSIC EDITOR");
	    } );
	console.log("CREATEING CLASSIC EDITOR DONE");
	
		document.querySelector( '#outlineId' ).addEventListener( 'click', () => {
		
	    const editorData = editor.getData();
	    console.log("from uploadTutorialPost");
	    console.log(editorData);
	    return editor.getData();

	    // ...
	} );
	

	</script>
	<script type="application/javascript">
		
		
		
    $('input[type="file"]').change(function(e){
        var fileName = e.target.files[0].name;
        $('.custom-file-label').html(fileName);
    });

	
	
	</script>

	<div th:replace="common/trail :: body-bottom-scripts"></div>

	<script th:inline="javascript">
		var projectPath='[(@{/})]';
		var filep='[(@{/files/})]';
		
		$('#prRequired').change(function() {
			var upload = document.getElementById("uploadpreRequsiteId");
			var submit = document.getElementById("addNullPrerequisite");
			if (upload.style.display === "none") {
				upload.style.display = "block";
				submit.style.display = "none";
			} else {
				upload.style.display = "none";
				submit.style.display = "block";
			}
			
		});
		
		
	</script>
</body>
</html>